# airu install 実装 TODO リスト

## 優先度：高

### テストフレームワークの導入
- [x] テスト用のフレームワークを選定する
  - [x] Minitestを導入する（標準ライブラリのため依存関係が少ない）
  - [x] テスト用のディレクトリ構造を作成する（`test/`ディレクトリ）
  - [x] 基本的なテスト実行スクリプトを作成する（`rake test`で実行できるようにする）

### 基本的なテストケースの作成
- [x] `test_helper.rb`を作成する
  - [x] テスト環境のセットアップコードを実装する
  - [x] モック/スタブ用のヘルパーメソッドを実装する
- [x] `airu init`コマンドの単体テストを作成する
  - [x] `.airu`ファイルが存在しない場合のテスト
  - [x] `.airu`ファイルが既に存在する場合のテスト（上書き確認）
  - [x] 作成された`.airu`ファイルの内容を検証するテスト
- [x] `airu install`コマンドの単体テストを作成する
  - [x] `.airu`ファイルが存在しない場合のエラーメッセージテスト
  - [x] 空の`.airu`ファイルの場合のテスト
  - [x] 有効なルールが記載された`.airu`ファイルの場合のテスト

### 基本機能の実装
- [x] `init`コマンドを実装する
  - [x] デフォルトの`.airu`ファイルを作成する機能を実装する
  - [x] 既存ファイルの上書き確認機能を実装する
- [x] STORY: `install_rule`メソッドの実装
  - [x] ルールの存在確認機能を実装する
  - [x] ルールを適切な場所にコピーする機能を実装する
  - [x] ルールのバージョン管理機能を実装する

## 優先度：中

### サンプルAIルールの作成
- [x] STORY: サンプルAIルールの作成
  - [x] `~/.airu/rules`ディレクトリを作成する
  - [x] `project-rule`を作成する
    - [x] `~/.airu/rules/project-rule/rule.md`ファイルを作成する
    - [x] サンプル例を作成する
  - [x] `command-rule`を作成する
    - [x] `~/.airu/rules/command-rule/rule.md`ファイルを作成する
    - [x] サンプル例を作成する

### 追加テストケースの作成
- [x] STORY: エッジケースのテスト作成
  - [x] 権限の問題が発生した場合のエラーハンドリングテスト
  - [x] 破損した`.airu`ファイルの処理テスト
- [x] STORY: モック/スタブを使ったテスト作成
  - [x] ファイルシステム操作をモック化したテスト
  - [x] ユーザー入力をスタブ化したテスト

## 優先度：低

### 統合テストの作成
- [ ] STORY: エンドツーエンドテスト作成
  - [ ] 実際の環境での`airu init`コマンドのテスト
  - [ ] 実際の環境での`airu install`コマンドのテスト
  - [ ] インストールされたルールの動作確認テスト

### ドキュメントの更新
- [x] STORY: ドキュメント更新
  - [x] README.mdを更新する
    - [x] `airu init`コマンドの使用方法を追加する
    - [x] `airu install`コマンドの詳細な説明を追加する
    - [x] `.airu`ファイルの書き方の説明を追加する
  - [x] ヘルプメッセージを更新する
    - [x] `init`コマンドの説明を追加する
  - [x] テスト実行方法のドキュメントを作成する

### 追加機能の実装
- [ ] STORY: 設定ファイルのサポート追加
  - [ ] 設定ファイル（`.airu.yml`）のサポートを追加する
- [ ] STORY: 追加AIルールの作成
  - [ ] `code-review-rule`を作成する
    - [ ] `~/.airu/rules/code-review-rule/rule.md`ファイルを作成する
    - [ ] サンプル例を作成する 
